spring:
  threads:
    virtual:
      enabled: true
  mvc:
    static-path-pattern: /static/**
  servlet:
    multipart:
      enabled: true
      max-file-size: 100MB
      max-request-size: 100MB
      file-size-threshold: 10MB
      location: ${UPLOAD_TEMP_DIR:/tmp}
      resolve-lazily: false
#    encoding: # springboot4
#      charset: utf-8
#      enabled: true
#      force-response: true
#      force: true
  config:
    import:
      - optional:classpath:application-cloud.yaml
      - optional:classpath:application-data.yaml
      - optional:classpath:application-cache.yaml
      - optional:classpath:application-mongo.yaml
      - optional:classpath:application-search.yaml
      - optional:classpath:application-ai.yaml
      - optional:classpath:application-schedule.yaml
      - optional:classpath:application-security.yaml
      - optional:classpath:application-excel.yaml
      - optional:classpath:application-storage.yaml
      - optional:classpath:application-local-task-message.yaml
#      - optional:consul:${app.cloud.host}:${app.cloud.port}
#      - optional:nacos:${spring.application.name}.yaml
  web:
    resources:
      add-mappings: false
#    error: # springboot4
#      include-message: never
#      include-stacktrace: never
#      include-exception: false
#      whitelabel:
#        enabled: false

server:
  tomcat:
    max-connections: 10000
    accept-count: 1000
    max-http-form-post-size: 20MB
    max-swallow-size: 20MB
  http2:
    enabled: true
  compression:
    enabled: true
    mime-types:
      - application/json
      - text/html
      - text/css
      - application/javascript
      - image/svg+xml
    min-response-size: 1KB
  servlet:
    encoding:
      charset: UTF-8
      enabled: true
      force-response: true
      force: true
  error:
    include-message: never
    include-stacktrace: never
    include-exception: false
    whitelabel:
      enabled: false

logging:
  config: classpath:logback-spring.xml
  file:
    path: log
    name: ${spring.application.name}
  level:
    root: INFO

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
        exclude: shutdown
      base-path: /actuator
  endpoint:
    health:
      show-details: always
      show-components: always
      probes:
        enabled: true
  metrics:
    tags:
      application: ${spring.application.name}

app:
  snow-flake:
    data-center-id: 0
  cors:
    allowed-methods:
      - GET
      - POST
      - PUT
      - DELETE
      - PATCH
      - OPTIONS
    max-age: 3600
    allow-credentials: true
